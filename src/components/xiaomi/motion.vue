<script setup>
  import Device from "../Device.vue";
  import List from "../properties/List.vue";
  import Item from "../properties/Item.vue";
  import Section from "../properties/Section.vue";
  import LastUpdate from "../properties/LastUpdate.vue";
  import BatterySection from "./component/BatterySection.vue";

  const props = defineProps({
    item: Object,
    device: Object
  });
</script>

<template>
  <Device>
    <template #icon>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" xml:space="preserve"><g><path fill="#f9cfcf" d="M128.052 101.057c-5.67-.002-11.238-1.146-16.55-3.398a5.64 5.64 0 0 1-3.26-3.747 5.658 5.658 0 0 1 .938-4.89c1.068-1.425 2.727-2.242 4.549-2.242.73 0 1.453.133 2.147.394a33.873 33.873 0 0 0 11.942 2.155c4.249-.021 8.369-.789 12.253-2.287a6.053 6.053 0 0 1 2.183-.408c1.799 0 3.443.802 4.512 2.201a5.667 5.667 0 0 1 1.006 4.901 5.643 5.643 0 0 1-3.219 3.781c-5.302 2.319-10.854 3.511-16.501 3.54zM195.363 135.201c-2.237-2.073-5.716-2.015-7.87.145-16.163 16.204-37.535 25.456-59.414 25.559h-.366c-21.722 0-43.029-9.05-59.242-24.999a5.672 5.672 0 0 0-7.872-.072l-.001.001c-2.328 2.198-2.369 5.873-.124 8.155 18.269 18.566 42.473 29.109 67.243 29.112h.002l.437-.001c24.938-.117 49.201-10.889 67.406-29.744 2.225-2.306 2.15-5.979-.199-8.156zM128 70.853c-3.429 0-6.219-2.808-6.219-6.258 0-3.451 2.79-6.259 6.219-6.259 3.43 0 6.22 2.808 6.22 6.259-.001 3.451-2.791 6.258-6.22 6.258z" opacity="1" data-original="#f9cfcf"></path><path fill="#f9cfcf" d="M169.335 112.098c2.337 2.362 2.22 6.233-.301 8.397-11.682 10.021-26.013 15.513-40.941 15.584l-.298.001h-.003c-14.818-.003-29.093-5.36-40.787-15.201-2.541-2.139-2.693-6.008-.379-8.391 2.089-2.151 5.452-2.308 7.794-.435 9.703 7.759 21.139 11.832 33.368 11.832l.246-.001c12.324-.058 23.809-4.239 33.505-12.147 2.324-1.896 5.688-1.77 7.796.361zM214.529 162.457c-2.373-2.227-6.102-2.171-8.374.159-21.113 21.654-48.939 33.926-78.048 34.062h-.47c-28.855 0-56.578-11.981-77.751-33.252-2.326-2.336-6.071-2.434-8.454-.155-2.382 2.278-2.509 6.075-.226 8.451 23.354 24.308 54.277 38.041 86.436 38.045l.558-.001c32.373-.153 63.368-14.178 86.635-38.859 2.259-2.399 2.097-6.195-.306-8.45z" opacity="1" data-original="#f9cfcf"></path><path fill="#4671c6" d="m183.36 149.394-3.9-1.551-26.474-9.992a3.904 3.904 0 0 1-2.032-1.752l-6.687-11.992c-1.317-6.162-5.86-11.122-11.78-13.032 8.979-2.118 15.663-10.178 15.663-19.803 0-11.24-9.112-20.352-20.352-20.352s-20.352 9.112-20.352 20.352c0 9.357 6.316 17.233 14.915 19.612a17.46 17.46 0 0 0-2.572.94 7.794 7.794 0 0 0-2.4.885l-17.782 10.147a8.568 8.568 0 0 0-4.006 5.138l-9.584 34.341a6.38 6.38 0 0 0 12.074 4.073l1.551-3.9 9.874-26.161v40.001l-16.898 60.386-2.361 8.436v.676c0 1.189.964 2.154 2.154 2.154h23.262c.886 0 1.604-.718 1.604-1.604a3.873 3.873 0 0 0-1.605-3.14l-6.156-4.448 17.559-40.091 19.86 45.344.353 1.138a2.412 2.412 0 0 0 2.304 1.698h20.799a2.14 2.14 0 0 0 2.14-2.14 5.492 5.492 0 0 0-3.365-5.064l-7.714-3.242-16.792-60.008V151.79c.095.03.187.068.284.095l34.341 9.584a6.38 6.38 0 0 0 7.59-3.656 6.378 6.378 0 0 0-3.515-8.419z" opacity="1" data-original="#4671c6" class=""></path><path fill="#6bdddd" d="M177.458 19H76.792a5.5 5.5 0 1 1 0-11h100.667a5.5 5.5 0 1 1-.001 11z" opacity="1" data-original="#6bdddd" class=""></path><path fill="#a4c9ff" d="M147.206 54.704h-40.162c-13.762 0-24.919-11.157-24.919-24.919V19h90v10.785c0 13.762-11.157 24.919-24.919 24.919z" opacity="1" data-original="#a4c9ff" class=""></path><path fill="#3762cc" d="M177.458 21H76.792c-4.136 0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5h100.667c4.136 0 7.5 3.364 7.5 7.5s-3.365 7.5-7.501 7.5zM76.792 10c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5h100.667c1.93 0 3.5-1.57 3.5-3.5s-1.57-3.5-3.5-3.5z" opacity="1" data-original="#3762cc" class=""></path><path fill="#3762cc" d="M147.206 56.703h-40.162c-14.843 0-26.919-12.076-26.919-26.919V19a2 2 0 0 1 2-2h90a2 2 0 0 1 2 2v10.784c0 14.843-12.076 26.919-26.919 26.919zM84.125 21v8.784c0 12.638 10.281 22.919 22.919 22.919h40.162c12.638 0 22.919-10.281 22.919-22.919V21z" opacity="1" data-original="#3762cc" class=""></path></g></svg>
    </template>

    <template #title>
      {{ item.name }}
    </template>

    <template #status>
      <LastUpdate v-if="device.properties.motion" :timestamp="device.properties.motion.at"></LastUpdate>
    </template>

    <template #action>
    </template>

    <template #extended>
      <Section name="Motion" v-if="device.properties.motion">
        <List>
          <Item label="Last event at">
            <LastUpdate :timestamp="device.properties.motion.at"></LastUpdate>
          </Item>
        </List>
      </Section>

      <BatterySection :battery="device.properties.battery" v-if="device.properties.battery"></BatterySection>
    </template>
  </Device>
</template>

<style scoped>

</style>